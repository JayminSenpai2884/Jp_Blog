---
import { Search } from 'lucide-astro';
---

<div class="max-w-md mx-auto mb-8">
  <div class="relative">
    <input
      type="text"
      placeholder="Search blogs"
      class="w-full px-4 py-2 pl-10 rounded-lg border border-gray-300 focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary"
    />
    <Search class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400" size={20} />
  </div>
</div>

<script>
  const searchInput = document.querySelector('input[type="text"]');
  const blogCards = document.querySelectorAll('article');

  searchInput?.addEventListener('input', (e) => {
    const searchTerm = (e.target as HTMLInputElement).value.toLowerCase();

    blogCards.forEach((card) => {
      const title = card.querySelector('h2')?.textContent?.toLowerCase() || '';
      const summary = card.querySelector('p')?.textContent?.toLowerCase() || '';

      if (title.includes(searchTerm) || summary.includes(searchTerm)) {
        card.classList.remove('hidden');
      } else {
        card.classList.add('hidden');
      }
    });
  });
</script>